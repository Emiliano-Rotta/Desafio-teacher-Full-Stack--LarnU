{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Emi\\\\Desktop\\\\Educacion-IT\\\\client\\\\src\\\\components\\\\editarCurso\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useLocation, Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { postPok, getOneProduct } from \"../../redux/actions\";\nimport style from \"./editarCurso.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CrearCurso() {\n  _s();\n\n  const dispatch = useDispatch(); //para obtener el ID y poder modificar el curso\n\n  const location = useLocation();\n  let id = location.pathname.substring(7, location.pathname.length);\n  let editar = useSelector(state => state.cursoLarnu); /////////////////\n\n  if (!editar.nombre) {\n    dispatch(getOneProduct(id));\n  }\n\n  editar = useSelector(state => state.cursoLarnu);\n  const [errors, setErrors] = useState({});\n  const [input, setInput] = useState({\n    nombre: \"\",\n    imagen: \"\",\n    description: \"\"\n  });\n\n  function validate(input) {\n    let errors = {};\n\n    if (!input.nombre || !/^[a-z]+[A-Za-z0-9\\s]+$/g.test(input.nombre)) {\n      errors.nombre = 'Al menos dos caracteres el primero, letra minúscula.';\n    }\n\n    if (!input.imagen) {\n      errors.imagen = 'Colocar una imagen, puede ser URL.';\n    }\n\n    if (!input.description) {\n      errors.description = 'Colocar una descripción.';\n    }\n\n    return errors;\n  }\n\n  useEffect(() => setInput({\n    /////////////////////\n    nombre: editar.nombre,\n    imagen: editar.imagen,\n    description: editar.description\n  }), [editar]);\n\n  function handleChange(e) {\n    e.preventDefault();\n    setInput({ ...input,\n      [e.target.name]: e.target.value\n    });\n    setErrors(validate({ ...input,\n      [e.target.name]: e.target.value\n    }));\n    console.log(input);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (input.nombre === editar.nombre ///////////\n    && input.imagen === editar.imagen && input.description === editar.description) {\n      alert(\"Curso editar algun campo\");\n    } else if (input.nombre !== \"\" && !errors.hasOwnProperty(\"nombre\") //devuelve un buleano si el objeto tiene la propiedad especificada \n    && !errors.hasOwnProperty(\"imagen\") && !errors.hasOwnProperty(\"description\")) {\n      dispatch(postPok(input));\n      alert(\"Curso editado con exito\");\n      setInput({\n        nombre: \"\",\n        imagen: \"\",\n        description: \"\"\n      });\n    } else {\n      alert(\"Debe compeltar correctamente todos los campos\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: style.contenedor,\n      onSubmit: e => handleSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: style.contenedor,\n        children: \"Crear Curso\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \" \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Nombre del curso: \",\n          autocomplete: \"off\",\n          type: \"text\",\n          value: input.nombre,\n          name: \"nombre\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }, this), errors.nombre && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.error,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error\",\n            children: errors.nombre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 49\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          autocomplete: \"off\",\n          type: \"text\",\n          value: input.imagen,\n          name: \"imagen\",\n          placeholder: \"Imagen del curso.\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this), errors.imagen && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.error,\n          children: errors.imagen\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 32\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 82\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          autocomplete: \"off\",\n          type: \"textArea\",\n          value: input.description,\n          name: \"description\",\n          placeholder: \"Descripci\\xF3n del curso.\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }, this), errors.description && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.error,\n          children: errors.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 38\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 93\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: style.boton1,\n        type: \"submit\",\n        children: \"Editar curso\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: style.volver,\n          children: \"Volver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CrearCurso, \"ZxV7R00vsTusPcNVMGY6LWnQ0ZI=\", false, function () {\n  return [useDispatch, useLocation, useSelector, useSelector];\n});\n\n_c = CrearCurso;\n\nvar _c;\n\n$RefreshReg$(_c, \"CrearCurso\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","Link","useDispatch","useSelector","postPok","getOneProduct","style","CrearCurso","dispatch","location","id","pathname","substring","length","editar","state","cursoLarnu","nombre","errors","setErrors","input","setInput","imagen","description","validate","test","handleChange","e","preventDefault","target","name","value","console","log","handleSubmit","alert","hasOwnProperty","contenedor","error","boton1","volver"],"sources":["C:/Users/Emi/Desktop/Educacion-IT/client/src/components/editarCurso/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {useLocation, Link} from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { postPok, getOneProduct } from \"../../redux/actions\";\r\nimport style from \"./editarCurso.module.css\";\r\n\r\nexport default function CrearCurso(){\r\n    const dispatch = useDispatch()\r\n    //para obtener el ID y poder modificar el curso\r\n    const location = useLocation()\r\n    let id = (location.pathname.substring(7,location.pathname.length))\r\n\r\n\r\n\r\n\r\n    let editar = useSelector ((state) => state.cursoLarnu); /////////////////\r\n    if (!editar.nombre){\r\n    dispatch(getOneProduct(id))\r\n    }\r\n    editar = useSelector ((state) => state.cursoLarnu); \r\n\r\n   \r\n\r\n\r\n\r\n    const [errors, setErrors] = useState({})\r\n    const[input, setInput] = useState({  nombre: \"\", imagen: \"\", description: \"\", })\r\n\r\n        function validate(input){\r\n            let errors = {};\r\n\r\n            if(!input.nombre || !/^[a-z]+[A-Za-z0-9\\s]+$/g.test(input.nombre)){\r\n                errors.nombre = 'Al menos dos caracteres el primero, letra minúscula.';\r\n            }\r\n            if(!input.imagen ){\r\n                errors.imagen = 'Colocar una imagen, puede ser URL.';\r\n            }\r\n            if(!input.description ){\r\n                errors.description = 'Colocar una descripción.';\r\n            }\r\n            return errors\r\n\r\n        }\r\n\r\n\r\n\r\n        useEffect(()=>(setInput({/////////////////////\r\n            nombre: editar.nombre,\r\n            imagen: editar.imagen,\r\n            description: editar.description,\r\n          })),[editar]\r\n          )\r\n\r\n\r\n\r\n\r\nfunction handleChange(e){\r\n    e.preventDefault ();\r\n    setInput({\r\n    ...input,\r\n    [e.target.name] : e.target.value,\r\n    });\r\n    setErrors(validate({\r\n        ...input,\r\n        [e.target.name]: e.target.value\r\n\r\n    }));console.log (input)\r\n}\r\n\r\n   \r\n    \r\n    function handleSubmit(e){\r\n        e.preventDefault()\r\n        if  (  input.nombre === editar.nombre///////////\r\n            && input.imagen === editar.imagen\r\n            && input.description === editar.description\r\n            \r\n         ){\r\n            alert (\"Curso editar algun campo\")\r\n          }\r\n\r\n        else if( input.nombre !== \"\" \r\n        && !errors.hasOwnProperty(\"nombre\") //devuelve un buleano si el objeto tiene la propiedad especificada \r\n        && !errors.hasOwnProperty(\"imagen\")\r\n        && !errors.hasOwnProperty(\"description\") \r\n        )\r\n\r\n        {dispatch(postPok(input))\r\n        alert (\"Curso editado con exito\")\r\n        setInput({\r\n            nombre: \"\",\r\n            imagen: \"\",\r\n            description: \"\",\r\n        })\r\n        }\r\n        else{\r\n        alert (\"Debe compeltar correctamente todos los campos\")\r\n         \r\n    }\r\n    }\r\n   \r\n            \r\n\r\n    return(\r\n        <div>\r\n           \r\n            \r\n            <form className ={style.contenedor}  onSubmit = {(e)=>handleSubmit(e)} >\r\n            <h1 className ={style.contenedor}>Crear Curso</h1>\r\n         <div>\r\n                <label> </label><br/>\r\n                <input\r\n                placeholder=\"Nombre del curso: \"\r\n                autocomplete=\"off\"\r\n                type = \"text\"\r\n                value = {input.nombre}\r\n                name = \"nombre\"\r\n                onChange ={(e)=>handleChange(e)} \r\n                /> \r\n                {errors.nombre && (\r\n                    <p className ={style.error}><p className = \"error\">{errors.nombre}</p></p>\r\n                )}\r\n        </div>\r\n\r\n        <div><br/>\r\n                            \r\n            <input  \r\n            autocomplete=\"off\"  \r\n            type=\"text\" \r\n            value={input.imagen} \r\n            name='imagen' \r\n            placeholder=\"Imagen del curso.\"  \r\n            onChange={(e)=>handleChange(e)} \r\n            /> \r\n            {errors.imagen && (<p className= {style.error} >{errors.imagen}</p>)}<br/>\r\n\r\n\r\n                <input  \r\n            autocomplete=\"off\"  \r\n            type=\"textArea\" \r\n            value={input.description} \r\n            name='description' \r\n            placeholder=\"Descripción del curso.\"  \r\n            onChange={(e)=>handleChange(e)} \r\n            />\r\n             {errors.description && (<p className= {style.error} >{errors.description}</p>)}<br/>\r\n        </div> \r\n                \r\n      \r\n        <button className={style.boton1} type='submit'>Editar curso</button>\r\n            \r\n        <Link to= \"/\"><button className ={style.volver}>Volver</button></Link>\r\n          </form>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}